{"name":"bcda","desc":"","tables":[{"name":"public.schema_migrations","type":"BASE TABLE","comment":"","columns":[{"name":"version","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"dirty","type":"boolean","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"schema_migrations_pkey","def":"CREATE UNIQUE INDEX schema_migrations_pkey ON public.schema_migrations USING btree (version)","table":"public.schema_migrations","columns":["version"],"comment":""}],"constraints":[{"name":"schema_migrations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (version)","table":"public.schema_migrations","referenced_table":"","columns":["version"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.blacklist_entries","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('blacklist_entries_id_seq'::regclass)","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"key","type":"text","nullable":false,"default":null,"comment":""},{"name":"entry_date","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"cache_expiration","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"blacklist_entries_pkey","def":"CREATE UNIQUE INDEX blacklist_entries_pkey ON public.blacklist_entries USING btree (id)","table":"public.blacklist_entries","columns":["id"],"comment":""},{"name":"idx_blacklist_entries_deleted_at","def":"CREATE INDEX idx_blacklist_entries_deleted_at ON public.blacklist_entries USING btree (deleted_at)","table":"public.blacklist_entries","columns":["deleted_at"],"comment":""}],"constraints":[{"name":"blacklist_entries_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.blacklist_entries","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.encryption_keys","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('encryption_keys_id_seq'::regclass)","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"body","type":"text","nullable":true,"default":null,"comment":""},{"name":"system_id","type":"integer","nullable":true,"default":null,"comment":""},{"name":"uuid","type":"text","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"encryption_keys_pkey","def":"CREATE UNIQUE INDEX encryption_keys_pkey ON public.encryption_keys USING btree (id)","table":"public.encryption_keys","columns":["id"],"comment":""},{"name":"idx_encryption_keys_deleted_at","def":"CREATE INDEX idx_encryption_keys_deleted_at ON public.encryption_keys USING btree (deleted_at)","table":"public.encryption_keys","columns":["deleted_at"],"comment":""}],"constraints":[{"name":"encryption_keys_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.encryption_keys","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"encryption_keys_system_id_systems_id_foreign","type":"FOREIGN KEY","def":"FOREIGN KEY (system_id) REFERENCES systems(id) ON UPDATE RESTRICT ON DELETE RESTRICT","table":"public.encryption_keys","referenced_table":"systems","columns":["system_id"],"referenced_columns":["id"],"comment":""}],"triggers":[],"def":""},{"name":"public.groups","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('groups_id_seq'::regclass)","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"group_id","type":"text","nullable":false,"default":null,"comment":""},{"name":"x_data","type":"text","nullable":true,"default":null,"comment":""},{"name":"data","type":"jsonb","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"groups_pkey","def":"CREATE UNIQUE INDEX groups_pkey ON public.groups USING btree (id)","table":"public.groups","columns":["id"],"comment":""},{"name":"idx_groups_deleted_at","def":"CREATE INDEX idx_groups_deleted_at ON public.groups USING btree (deleted_at)","table":"public.groups","columns":["deleted_at"],"comment":""},{"name":"groups_group_id_deleted_at_key","def":"CREATE UNIQUE INDEX groups_group_id_deleted_at_key ON public.groups USING btree (group_id) WHERE (deleted_at IS NULL)","table":"public.groups","columns":["group_id"],"comment":""}],"constraints":[{"name":"groups_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.groups","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.secrets","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('secrets_id_seq'::regclass)","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"hash","type":"text","nullable":true,"default":null,"comment":""},{"name":"system_id","type":"integer","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"secrets_pkey","def":"CREATE UNIQUE INDEX secrets_pkey ON public.secrets USING btree (id)","table":"public.secrets","columns":["id"],"comment":""},{"name":"idx_secrets_deleted_at","def":"CREATE INDEX idx_secrets_deleted_at ON public.secrets USING btree (deleted_at)","table":"public.secrets","columns":["deleted_at"],"comment":""}],"constraints":[{"name":"secrets_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.secrets","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"secrets_system_id_systems_id_foreign","type":"FOREIGN KEY","def":"FOREIGN KEY (system_id) REFERENCES systems(id) ON UPDATE RESTRICT ON DELETE RESTRICT","table":"public.secrets","referenced_table":"systems","columns":["system_id"],"referenced_columns":["id"],"comment":""}],"triggers":[],"def":""},{"name":"public.systems","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('systems_id_seq'::regclass)","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"group_id","type":"text","nullable":true,"default":null,"comment":""},{"name":"client_id","type":"text","nullable":true,"default":null,"comment":""},{"name":"software_id","type":"text","nullable":true,"default":null,"comment":""},{"name":"client_name","type":"text","nullable":true,"default":null,"comment":""},{"name":"api_scope","type":"text","nullable":true,"default":null,"comment":""},{"name":"g_id","type":"integer","nullable":true,"default":null,"comment":""},{"name":"last_token_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"x_data","type":"text","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"systems_pkey","def":"CREATE UNIQUE INDEX systems_pkey ON public.systems USING btree (id)","table":"public.systems","columns":["id"],"comment":""},{"name":"idx_systems_deleted_at","def":"CREATE INDEX idx_systems_deleted_at ON public.systems USING btree (deleted_at)","table":"public.systems","columns":["deleted_at"],"comment":""},{"name":"idx_client","def":"CREATE UNIQUE INDEX idx_client ON public.systems USING btree (client_id)","table":"public.systems","columns":["client_id"],"comment":""}],"constraints":[{"name":"systems_g_id_groups_g_id_foreign","type":"FOREIGN KEY","def":"FOREIGN KEY (g_id) REFERENCES groups(id) ON UPDATE RESTRICT ON DELETE RESTRICT","table":"public.systems","referenced_table":"groups","columns":["g_id"],"referenced_columns":["id"],"comment":""},{"name":"systems_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.systems","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.ips","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('ips_id_seq'::regclass)","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"address","type":"inet","nullable":false,"default":null,"comment":""},{"name":"system_id","type":"integer","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"ips_pkey","def":"CREATE UNIQUE INDEX ips_pkey ON public.ips USING btree (id)","table":"public.ips","columns":["id"],"comment":""},{"name":"idx_ips_deleted_at","def":"CREATE INDEX idx_ips_deleted_at ON public.ips USING btree (deleted_at)","table":"public.ips","columns":["deleted_at"],"comment":""}],"constraints":[{"name":"ips_system_id_systems_id_foreign","type":"FOREIGN KEY","def":"FOREIGN KEY (system_id) REFERENCES systems(id) ON UPDATE RESTRICT ON DELETE RESTRICT","table":"public.ips","referenced_table":"systems","columns":["system_id"],"referenced_columns":["id"],"comment":""},{"name":"ips_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.ips","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.client_tokens","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('client_tokens_id_seq'::regclass)","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"label","type":"text","nullable":true,"default":null,"comment":""},{"name":"uuid","type":"text","nullable":false,"default":null,"comment":""},{"name":"system_id","type":"integer","nullable":true,"default":null,"comment":""},{"name":"expires_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"client_tokens_uuid_key","def":"CREATE UNIQUE INDEX client_tokens_uuid_key ON public.client_tokens USING btree (uuid)","table":"public.client_tokens","columns":["uuid"],"comment":""}],"constraints":[{"name":"client_tokens_uuid_key","type":"UNIQUE","def":"UNIQUE (uuid)","table":"public.client_tokens","referenced_table":"","columns":["uuid"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.root_keys","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('root_keys_id_seq'::regclass)","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"expires_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"uuid","type":"text","nullable":false,"default":null,"comment":""},{"name":"key","type":"text","nullable":false,"default":null,"comment":""},{"name":"system_id","type":"integer","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"root_keys_uuid_system_id_key","def":"CREATE UNIQUE INDEX root_keys_uuid_system_id_key ON public.root_keys USING btree (uuid, system_id)","table":"public.root_keys","columns":["system_id","uuid"],"comment":""}],"constraints":[{"name":"root_keys_uuid_system_id_key","type":"UNIQUE","def":"UNIQUE (uuid, system_id)","table":"public.root_keys","referenced_table":"","columns":["uuid","system_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""}],"relations":[{"table":"public.encryption_keys","columns":["system_id"],"cardinality":"Zero or more","parent_table":"public.systems","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (system_id) REFERENCES systems(id) ON UPDATE RESTRICT ON DELETE RESTRICT","virtual":false},{"table":"public.secrets","columns":["system_id"],"cardinality":"Zero or more","parent_table":"public.systems","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (system_id) REFERENCES systems(id) ON UPDATE RESTRICT ON DELETE RESTRICT","virtual":false},{"table":"public.systems","columns":["g_id"],"cardinality":"Zero or more","parent_table":"public.groups","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (g_id) REFERENCES groups(id) ON UPDATE RESTRICT ON DELETE RESTRICT","virtual":false},{"table":"public.ips","columns":["system_id"],"cardinality":"Zero or more","parent_table":"public.systems","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (system_id) REFERENCES systems(id) ON UPDATE RESTRICT ON DELETE RESTRICT","virtual":false}],"functions":[],"driver":{"name":"postgres","database_version":"PostgreSQL 15.7 (Debian 15.7-1.pgdg120+1) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit","meta":{"current_schema":"public","search_paths":["postgres","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
